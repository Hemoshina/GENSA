<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GenAI Career Guidance</title>
  <link rel="icon" href="/static/favicon.ico">

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      margin: 0;
      background: radial-gradient(circle at top left, #1e3c72, #2a5298, #00c6ff);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.12);
      border-radius: 20px;
      backdrop-filter: blur(14px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: 0.9s ease-in-out;
    }
    .glass-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
    }
    .glow-btn {
      background: linear-gradient(90deg, #00c6ff, #0072ff);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      transition: 0.3s ease-in-out;
      box-shadow: 0 0 15px rgba(0, 198, 255, 0.6);
    }
    .glow-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(0, 198, 255, 0.9);
    }

    /* Source-specific result cards */
    .result-card {
      border-radius: 16px;
      padding: 20px;
      color: #fff;
      margin-bottom: 12px;
      animation: fadeInUp 0.6s ease;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .wiki-card {
      background: rgba(216, 25, 197, 0.1);
      border-left: 6px solid rgb(238, 124, 205);
      box-shadow: 0 6px 18px rgba(0, 0, 80, 0.3);
    }
    .openai-card {
      background: rgba(211, 171, 204, 0.35);
      border-left: 6px solid #c361a9;
      box-shadow: 0 6px 18px rgba(174, 11, 111, 0.3);
    }
    .gemini-card {
      background: rgba(255, 255, 255, 0.15);
      border-left: 6px solid #34d399;
      box-shadow: 0 6px 18px rgba(0, 150, 80, 0.3);
    }

    .source-title {
      font-weight: 700;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
  </style>
</head>
<body>

  <div class="text-center text-white space-y-8 animate_animated animate_fadeIn w-full">
    <!-- Header -->
    <h1 class="text-5xl font-extrabold drop-shadow-lg">üöÄ GenAI Career Guidance</h1>
    <p class="text-lg text-gray-200">Ask about courses, careers, or top colleges</p>

    <!-- Input Section -->
    <div class="glass-card p-6 flex items-center space-x-4 w-full max-w-2xl mx-auto animate_animated animate_zoomIn">
      <input 
        type="text" 
        id="query" 
        placeholder="Type your career question here..." 
        class="flex-grow p-3 rounded-xl border-none outline-none text-gray-800"
      >
      <button onclick="askAI()" class="glow-btn">Ask</button>
    </div>

    <!-- Response Section -->
    <div id="response" class="mt-10 space-y-6 mx-auto max-w-3xl text-left">
      <!-- Results dynamically injected by app.js -->
    </div>
  </div>

  <!-- Load JS -->
  <script src="/static/app.js"></script>

  <!-- Wrap injected results into styled source-specific cards -->
  <script>
    const observer = new MutationObserver(() => {
      const responseDiv = document.getElementById("response");
      [...responseDiv.children].forEach(child => {
        if (!child.classList.contains("result-card")) {
          let text = child.innerText.toLowerCase();

          if (text.includes("wikipedia")) {
            child.classList.add("result-card", "wiki-card");
            child.insertAdjacentHTML("afterbegin", <div class="source-title">üìò Wikipedia</div>);
          } 
          else if (text.includes("openai")) {
            child.classList.add("result-card", "openai-card");
            child.insertAdjacentHTML("afterbegin", <div class="source-title">ü§ñ OpenAI</div>);
          } 
          else if (text.includes("gemini")) {
            child.classList.add("result-card", "gemini-card");
            child.insertAdjacentHTML("afterbegin", <div class="source-title">‚ú® Gemini AI</div>);
          } 
          else {
            child.classList.add("result-card", "openai-card"); // fallback
            child.insertAdjacentHTML("afterbegin", <div class="source-title">üîç GenAI</div>);
          }
        }
      });
    });

    observer.observe(document.getElementById("response"), { childList: true });
  </script>
</body>
</html>